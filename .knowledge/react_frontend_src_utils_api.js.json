{"is_source_file": true, "format": "JavaScript", "description": "This file is a utility module providing functions to interact with backend authentication APIs in a React frontend project. It manages user registration, login, logout, user data retrieval, and token storage.", "external_files": ["fetch (built-in browser API)", "localStorage (browser API)"], "external_methods": ["fetch", "localStorage.setItem", "localStorage.getItem", "localStorage.removeItem"], "published": ["register", "login", "logout", "getCurrentUser", "setAuthToken", "getAuthToken", "removeAuthToken", "setUserData", "getUserData", "removeUserData", "isAuthenticated"], "classes": [], "methods": [{"name": "register", "description": "Sends a POST request to register a new user with provided userData (email, password, displayName). Returns session tokens and user info upon success."}, {"name": "login", "description": "Sends a POST request with credentials (email, password) to authenticate user. Returns session tokens and user info upon success."}, {"name": "logout", "description": "Sends a POST request to log out the user, clears local storage tokens and user data."}, {"name": "getCurrentUser", "description": "Fetches current user info from backend using stored auth token."}, {"name": "setAuthToken", "description": "Stores the provided JWT token in localStorage."}, {"name": "getAuthToken", "description": "Retrieves the JWT token from localStorage."}, {"name": "removeAuthToken", "description": "Removes the JWT token from localStorage."}, {"name": "setUserData", "description": "Stores user data in localStorage."}, {"name": "getUserData", "description": "Retrieves user data from localStorage."}, {"name": "removeUserData", "description": "Removes user data from localStorage."}, {"name": "isAuthenticated", "description": "Checks if a valid auth token exists in localStorage, indicating user is authenticated."}], "calls": ["fetch", "getAuthToken", "removeAuthToken", "removeUserData", "setAuthToken", "setUserData", "localStorage.setItem", "localStorage.getItem", "localStorage.removeItem"], "search-terms": ["api/auth", "React API utility", "authentication token", "localStorage auth", "register user", "login user", "logout user", "get current user"], "state": 2, "file_id": 13, "knowledge_revision": 45, "git_revision": "91fa7bfefe7507df8ffd9ff8af5373a3ca3667fc", "revision_history": [{"28": ""}, {"37": "f6c40d52fc9ac6fee7442c0de46a0aa814e2bf86"}, {"45": "91fa7bfefe7507df8ffd9ff8af5373a3ca3667fc"}], "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_BACKEND_URL || 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const data = await response.json();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^  const data = localStorage.getItem('userData');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAuthToken", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getAuthToken = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getCurrentUser", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getCurrentUser = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getUserData", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getUserData = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const isAuthenticated = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const login = async (credentials) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const logout = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const register = async (userData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "removeAuthToken", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const removeAuthToken = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "removeUserData", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const removeUserData = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/login`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/logout`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/me`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/register`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setAuthToken", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const setAuthToken = (token) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setUserData", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const setUserData = (userData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const token = getAuthToken();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^  const token = getAuthToken();$/", "language": "JavaScript", "kind": "constant"}], "hash": "314e3667fb80420b1a17c72958ec1a73", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/utils/api.js"}