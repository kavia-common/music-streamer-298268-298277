{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions for interacting with a backend authentication API, including user registration, login, logout, token management, and fetching current user info. It is specifically tailored for a React frontend application.", "external_files": ["fetch (built-in)", "localStorage (browser API)"], "external_methods": ["fetch", "localStorage.setItem", "localStorage.getItem", "localStorage.removeItem"], "published": ["register", "login", "logout", "getCurrentUser", "setAuthToken", "getAuthToken", "removeAuthToken", "setUserData", "getUserData", "removeUserData", "isAuthenticated"], "classes": [], "methods": [{"name": "register", "description": "Registers a new user by sending user data to the backend API /api/auth/register endpoint and returns session and user info."}, {"name": "login", "description": "Logs in an existing user via the backend API /api/auth/login endpoint, returning session tokens and user info."}, {"name": "logout", "description": "Logs out the current user by calling the backend API /api/auth/logout endpoint and clearing local storage tokens and user data."}, {"name": "getCurrentUser", "description": "Fetches current authenticated user info and profile from the backend API /api/auth/me using stored token."}, {"name": "setAuthToken", "description": "Stores the authentication token in localStorage."}, {"name": "getAuthToken", "description": "Retrieves the stored authentication token from localStorage."}, {"name": "removeAuthToken", "description": "Removes the authentication token from localStorage."}, {"name": "setUserData", "description": "Stores user data in localStorage."}, {"name": "getUserData", "description": "Retrieves user data from localStorage."}, {"name": "removeUserData", "description": "Removes user data from localStorage."}, {"name": "isAuthenticated", "description": "Returns true if an authentication token exists in localStorage."}], "calls": ["fetch", "localStorage.setItem", "localStorage.getItem", "localStorage.removeItem"], "search-terms": ["API helper", "auth endpoints", "register", "login", "logout", "getCurrentUser", "localStorage", "session tokens"], "state": 2, "file_id": 13, "knowledge_revision": 37, "git_revision": "f6c40d52fc9ac6fee7442c0de46a0aa814e2bf86", "revision_history": [{"28": ""}, {"37": "f6c40d52fc9ac6fee7442c0de46a0aa814e2bf86"}], "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const data = await response.json();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^  const data = localStorage.getItem('userData');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAuthToken", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getAuthToken = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getCurrentUser", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getCurrentUser = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getUserData", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getUserData = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const isAuthenticated = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const login = async (credentials) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const logout = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const register = async (userData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "removeAuthToken", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const removeAuthToken = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "removeUserData", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const removeUserData = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/login`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/logout`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/me`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/register`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setAuthToken", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const setAuthToken = (token) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setUserData", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const setUserData = (userData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const token = getAuthToken();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^  const token = getAuthToken();$/", "language": "JavaScript", "kind": "constant"}], "hash": "d801a45f0dc15048ddfa984141fcff43", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/utils/api.js"}