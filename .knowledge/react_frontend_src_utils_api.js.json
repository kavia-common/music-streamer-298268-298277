{"is_source_file": true, "format": "JavaScript", "description": "This file is a utility module for frontend API interactions, providing functions to call backend authentication and playlist endpoints in a React application.", "external_files": ["fetch", "process.env.REACT_APP_BACKEND_URL", "localStorage"], "external_methods": ["fetch()", "localStorage.setItem()", "localStorage.getItem()", "localStorage.removeItem()"], "published": ["register", "login", "logout", "getCurrentUser", "createPlaylist", "getPlaylists", "getPlaylistById", "updatePlaylist", "setAuthToken", "getAuthToken", "removeAuthToken", "setUserData", "getUserData", "removeUserData", "isAuthenticated"], "classes": [], "methods": [{"name": "register", "description": "Registers a new user by sending user data to the backend registration endpoint, returning the session tokens and user info on success."}, {"name": "login", "description": "Authenticates an existing user using email and password, returning session tokens and user info."}, {"name": "logout", "description": "Logs out the current user by invalidating the session and clearing stored tokens and user data."}, {"name": "getCurrentUser", "description": "Fetches the current authenticated user information and profile from the backend."}, {"name": "createPlaylist", "description": "Creates a new playlist with provided data for the authenticated user."}, {"name": "getPlaylists", "description": "Retrieves all playlists associated with the current user."}, {"name": "getPlaylistById", "description": "Fetches details of a specific playlist by ID."}, {"name": "updatePlaylist", "description": "Updates a playlist with new data; can change name or description."}, {"name": "setAuthToken", "description": "Stores the authentication token into localStorage."}, {"name": "getAuthToken", "description": "Retrieves the stored authentication token from localStorage."}, {"name": "removeAuthToken", "description": "Removes the authentication token from localStorage."}, {"name": "setUserData", "description": "Stores user data object into localStorage."}, {"name": "getUserData", "description": "Retrieves user data object from localStorage."}, {"name": "removeUserData", "description": "Removes user data from localStorage."}, {"name": "isAuthenticated", "description": "Checks if a valid authentication token exists, indicating the user is authenticated."}], "calls": ["fetch()", "localStorage.setItem()", "localStorage.getItem()", "localStorage.removeItem()"], "search-terms": ["api.js", "React API", "authentication endpoints", "playlist CRUD", "localStorage token storage", "fetch requests", "backend URLs"], "state": 2, "file_id": 13, "knowledge_revision": 106, "git_revision": "0910a834259a5cdc408239abe7fc81dabf9f6886", "revision_history": [{"28": ""}, {"37": "f6c40d52fc9ac6fee7442c0de46a0aa814e2bf86"}, {"45": "91fa7bfefe7507df8ffd9ff8af5373a3ca3667fc"}, {"106": "0910a834259a5cdc408239abe7fc81dabf9f6886"}], "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_BACKEND_URL || 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createPlaylist", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const createPlaylist = async (playlistData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const data = await response.json();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^  const data = localStorage.getItem('userData');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAuthToken", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getAuthToken = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getCurrentUser", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getCurrentUser = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getPlaylistById", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getPlaylistById = async (playlistId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getPlaylists", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getPlaylists = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getUserData", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const getUserData = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const isAuthenticated = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const login = async (credentials) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const logout = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const register = async (userData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "removeAuthToken", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const removeAuthToken = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "removeUserData", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const removeUserData = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/login`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/logout`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/me`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/auth\\/register`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/playlists\\/${playlistId}`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const response = await fetch(`${API_BASE_URL}\\/api\\/playlists`, {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setAuthToken", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const setAuthToken = (token) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setUserData", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const setUserData = (userData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^    const token = getAuthToken();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^  const token = getAuthToken();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updatePlaylist", "path": "/home/kavia/workspace/code-generation/music-streamer-298268-298277/react_frontend/src/utils/api.js", "pattern": "/^export const updatePlaylist = async (playlistId, updateData) => {$/", "language": "JavaScript", "kind": "constant"}], "hash": "bcf9b8205886075702ef4776bf931cc0", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/utils/api.js"}